{"ast":null,"code":"import _objectSpread from\"C:/Users/bryan/Documents/React-Project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useContext,useEffect,useState}from'react';import\"./index.css\";import{MainContext}from'../../../../context/MainContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var loadImage=function loadImage(setImageDimensions,imageUrl,imageDimensions,setImgEditDiv){var img=new Image();img.src=imageUrl;img.onload=function(){if(img.width>img.height){setImageDimensions(_objectSpread(_objectSpread({},imageDimensions),{},{height:\"100%\",width:\"fit-content\"}));setImgEditDiv(\"block\");}else{setImageDimensions({height:\"fit-content\",width:\"100%\"});alert(\"Photo positions in still in development, please close the tab. The inputed file will be auto-centered\");setImgEditDiv(\"block\");}};img.onerror=function(err){console.log(\"img error\");console.error(err);};};var ImageInput=function ImageInput(){var _useContext=useContext(MainContext),setVAImg=_useContext.setVAImg,VAimg=_useContext.VAimg,selectedImage=_useContext.selectedImage,setSelectedImage=_useContext.setSelectedImage,imageDimensions=_useContext.imageDimensions,setImageDimensions=_useContext.setImageDimensions,setImgEditDiv=_useContext.setImgEditDiv;var handleImageUpload=function handleImageUpload(e){var file=e.target.files[0];if(file&&file.type.startsWith(\"image/\")){var reader=new FileReader();reader.onload=function(){setSelectedImage(file.name);setVAImg(reader.result);loadImage(setImageDimensions,reader.result,imageDimensions,setImgEditDiv);};reader.readAsDataURL(file);}};var fileName=\"\".concat(selectedImage).slice(0,15);if(fileName.length>14)fileName=fileName+\"...\";return/*#__PURE__*/_jsxs(\"div\",{className:\"ImageInputContainer\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"VA Profile Image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-input\",onChange:handleImageUpload,className:\"file-input\",accept:\"image/png, image/jpeg\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"file-input\",className:\"custom-label\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cloud-upload-alt\"}),\" Upload file\"]}),/*#__PURE__*/_jsx(\"span\",{id:\"file-name\",className:\"file-name\",children:fileName?\"\".concat(fileName):\"No file chosen\"})]})]});};export default ImageInput;","map":{"version":3,"names":["React","useContext","useEffect","useState","MainContext","jsx","_jsx","jsxs","_jsxs","loadImage","setImageDimensions","imageUrl","imageDimensions","setImgEditDiv","img","Image","src","onload","width","height","_objectSpread","alert","onerror","err","console","log","error","ImageInput","_useContext","setVAImg","VAimg","selectedImage","setSelectedImage","handleImageUpload","e","file","target","files","type","startsWith","reader","FileReader","name","result","readAsDataURL","fileName","concat","slice","length","className","children","id","onChange","accept","htmlFor"],"sources":["C:/Users/bryan/Documents/React-Project/src/components/WidgetCreation/InputComponents/ImageInput/index.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\r\nimport \"./index.css\"\r\nimport { MainContext } from '../../../../context/MainContext';\r\n\r\nconst loadImage = (setImageDimensions, imageUrl, imageDimensions, setImgEditDiv) => {\r\n  const img = new Image();\r\n  img.src = imageUrl;\r\n\r\n  img.onload = () => {\r\n    if(img.width > img.height){\r\n      setImageDimensions({\r\n        ...imageDimensions,\r\n        height: \"100%\",\r\n        width: \"fit-content\"\r\n      });\r\n      setImgEditDiv(\"block\")\r\n    }else{\r\n      setImageDimensions({\r\n        height: \"fit-content\",\r\n        width: \"100%\"\r\n      });\r\n      alert(\"Photo positions in still in development, please close the tab. The inputed file will be auto-centered\")\r\n      setImgEditDiv(\"block\")\r\n    }\r\n  };\r\n  img.onerror = (err) => {\r\n    console.log(\"img error\");\r\n    console.error(err);\r\n  };\r\n};\r\n\r\nconst ImageInput = () => {\r\n  const {\r\n    setVAImg, \r\n    VAimg,\r\n    selectedImage,\r\n    setSelectedImage,\r\n    imageDimensions,\r\n    setImageDimensions,\r\n    setImgEditDiv\r\n  } = useContext(MainContext)\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type.startsWith(\"image/\")) {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setSelectedImage(file.name);\r\n        setVAImg(reader.result)\r\n        loadImage(setImageDimensions, reader.result, imageDimensions, setImgEditDiv)\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  \r\n  let fileName = `${selectedImage}`.slice(0,15)\r\n  if(fileName.length > 14) fileName = fileName + \"...\"\r\n\r\n  return (\r\n    <div className='ImageInputContainer'>\r\n      <label>VA Profile Image</label>\r\n      <div className=\"file-input-container\">\r\n        <input type=\"file\" id=\"file-input\" onChange={handleImageUpload} className=\"file-input\" accept=\"image/png, image/jpeg\"/>\r\n        <label htmlFor=\"file-input\" className=\"custom-label\">\r\n          <i className=\"fas fa-cloud-upload-alt\"></i> Upload file\r\n        </label>\r\n        <span id=\"file-name\" className=\"file-name\">{fileName ? `${fileName}` : \"No file chosen\"}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageInput"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}