{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bryan\\\\Documents\\\\React-Project\\\\src\\\\components\\\\WidgetCreation\\\\InputComponents\\\\ImageInput\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport \"./index.css\";\nimport { MainContext } from '../../../../context/MainContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loadImage = (setImageDimensions, imageUrl, imageDimensions, setImgEditDiv) => {\n  const img = new Image();\n  img.src = imageUrl;\n  img.onload = () => {\n    if (img.width > img.height) {\n      setImageDimensions({\n        ...imageDimensions,\n        height: \"100%\",\n        width: \"fit-content\"\n      });\n      setImgEditDiv(\"block\");\n    } else {\n      setImageDimensions({\n        height: \"fit-content\",\n        width: \"100%\"\n      });\n      alert(\"Photo positions in still in development, please close the tab. The inputed file will be auto-centered\");\n      setImgEditDiv(\"block\");\n    }\n  };\n  img.onerror = err => {\n    console.log(\"img error\");\n    console.error(err);\n  };\n};\nconst ImageInput = () => {\n  _s();\n  const {\n    setVAImg,\n    VAimg,\n    selectedImage,\n    setSelectedImage,\n    imageDimensions,\n    setImageDimensions,\n    setImgEditDiv\n  } = useContext(MainContext);\n  const handleImageUpload = e => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith(\"image/\")) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setSelectedImage(file.name);\n        setVAImg(reader.result);\n        loadImage(setImageDimensions, reader.result, imageDimensions, setImgEditDiv);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  let fileName = `${selectedImage}`.slice(0, 15);\n  if (fileName.length > 14) fileName = fileName + \"...\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ImageInputContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"VA Profile Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"file-input\",\n        onChange: handleImageUpload,\n        className: \"file-input\",\n        accept: \"image/png, image/jpeg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"file-input\",\n        className: \"custom-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-cloud-upload-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), \" Upload file\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        id: \"file-name\",\n        className: \"file-name\",\n        children: fileName ? `${fileName}` : \"No file chosen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageInput, \"jr+8u+AWu2Asq2bZNgfycVbwvh8=\");\n_c = ImageInput;\nexport default ImageInput;\nvar _c;\n$RefreshReg$(_c, \"ImageInput\");","map":{"version":3,"names":["React","useContext","useEffect","useState","MainContext","jsxDEV","_jsxDEV","loadImage","setImageDimensions","imageUrl","imageDimensions","setImgEditDiv","img","Image","src","onload","width","height","alert","onerror","err","console","log","error","ImageInput","_s","setVAImg","VAimg","selectedImage","setSelectedImage","handleImageUpload","e","file","target","files","type","startsWith","reader","FileReader","name","result","readAsDataURL","fileName","slice","length","className","children","_jsxFileName","lineNumber","columnNumber","id","onChange","accept","htmlFor","_c","$RefreshReg$"],"sources":["C:/Users/bryan/Documents/React-Project/src/components/WidgetCreation/InputComponents/ImageInput/index.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react'\r\nimport \"./index.css\"\r\nimport { MainContext } from '../../../../context/MainContext';\r\n\r\nconst loadImage = (setImageDimensions, imageUrl, imageDimensions, setImgEditDiv) => {\r\n  const img = new Image();\r\n  img.src = imageUrl;\r\n\r\n  img.onload = () => {\r\n    if(img.width > img.height){\r\n      setImageDimensions({\r\n        ...imageDimensions,\r\n        height: \"100%\",\r\n        width: \"fit-content\"\r\n      });\r\n      setImgEditDiv(\"block\")\r\n    }else{\r\n      setImageDimensions({\r\n        height: \"fit-content\",\r\n        width: \"100%\"\r\n      });\r\n      alert(\"Photo positions in still in development, please close the tab. The inputed file will be auto-centered\")\r\n      setImgEditDiv(\"block\")\r\n    }\r\n  };\r\n  img.onerror = (err) => {\r\n    console.log(\"img error\");\r\n    console.error(err);\r\n  };\r\n};\r\n\r\nconst ImageInput = () => {\r\n  const {\r\n    setVAImg, \r\n    VAimg,\r\n    selectedImage,\r\n    setSelectedImage,\r\n    imageDimensions,\r\n    setImageDimensions,\r\n    setImgEditDiv\r\n  } = useContext(MainContext)\r\n\r\n  const handleImageUpload = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type.startsWith(\"image/\")) {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setSelectedImage(file.name);\r\n        setVAImg(reader.result)\r\n        loadImage(setImageDimensions, reader.result, imageDimensions, setImgEditDiv)\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  \r\n  let fileName = `${selectedImage}`.slice(0,15)\r\n  if(fileName.length > 14) fileName = fileName + \"...\"\r\n\r\n  return (\r\n    <div className='ImageInputContainer'>\r\n      <label>VA Profile Image</label>\r\n      <div className=\"file-input-container\">\r\n        <input type=\"file\" id=\"file-input\" onChange={handleImageUpload} className=\"file-input\" accept=\"image/png, image/jpeg\"/>\r\n        <label htmlFor=\"file-input\" className=\"custom-label\">\r\n          <i className=\"fas fa-cloud-upload-alt\"></i> Upload file\r\n        </label>\r\n        <span id=\"file-name\" className=\"file-name\">{fileName ? `${fileName}` : \"No file chosen\"}</span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImageInput"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAC5D,OAAO,aAAa;AACpB,SAASC,WAAW,QAAQ,iCAAiC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9D,MAAMC,SAAS,GAAGA,CAACC,kBAAkB,EAAEC,QAAQ,EAAEC,eAAe,EAAEC,aAAa,KAAK;EAClF,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;EACvBD,GAAG,CAACE,GAAG,GAAGL,QAAQ;EAElBG,GAAG,CAACG,MAAM,GAAG,MAAM;IACjB,IAAGH,GAAG,CAACI,KAAK,GAAGJ,GAAG,CAACK,MAAM,EAAC;MACxBT,kBAAkB,CAAC;QACjB,GAAGE,eAAe;QAClBO,MAAM,EAAE,MAAM;QACdD,KAAK,EAAE;MACT,CAAC,CAAC;MACFL,aAAa,CAAC,OAAO,CAAC;IACxB,CAAC,MAAI;MACHH,kBAAkB,CAAC;QACjBS,MAAM,EAAE,aAAa;QACrBD,KAAK,EAAE;MACT,CAAC,CAAC;MACFE,KAAK,CAAC,uGAAuG,CAAC;MAC9GP,aAAa,CAAC,OAAO,CAAC;IACxB;EACF,CAAC;EACDC,GAAG,CAACO,OAAO,GAAIC,GAAG,IAAK;IACrBC,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IACxBD,OAAO,CAACE,KAAK,CAACH,GAAG,CAAC;EACpB,CAAC;AACH,CAAC;AAED,MAAMI,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM;IACJC,QAAQ;IACRC,KAAK;IACLC,aAAa;IACbC,gBAAgB;IAChBnB,eAAe;IACfF,kBAAkB;IAClBG;EACF,CAAC,GAAGV,UAAU,CAACG,WAAW,CAAC;EAE3B,MAAM0B,iBAAiB,GAAIC,CAAC,IAAK;IAC/B,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAC9B,IAAIF,IAAI,IAAIA,IAAI,CAACG,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;MAC1C,MAAMC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC/BD,MAAM,CAACtB,MAAM,GAAG,MAAM;QACpBc,gBAAgB,CAACG,IAAI,CAACO,IAAI,CAAC;QAC3Bb,QAAQ,CAACW,MAAM,CAACG,MAAM,CAAC;QACvBjC,SAAS,CAACC,kBAAkB,EAAE6B,MAAM,CAACG,MAAM,EAAE9B,eAAe,EAAEC,aAAa,CAAC;MAC9E,CAAC;MACD0B,MAAM,CAACI,aAAa,CAACT,IAAI,CAAC;IAC5B;EACF,CAAC;EAED,IAAIU,QAAQ,GAAI,GAAEd,aAAc,EAAC,CAACe,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC;EAC7C,IAAGD,QAAQ,CAACE,MAAM,GAAG,EAAE,EAAEF,QAAQ,GAAGA,QAAQ,GAAG,KAAK;EAEpD,oBACEpC,OAAA;IAAKuC,SAAS,EAAC,qBAAqB;IAAAC,QAAA,gBAClCxC,OAAA;MAAAwC,QAAA,EAAO;IAAgB;MAAAJ,QAAA,EAAAK,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eAC/B3C,OAAA;MAAKuC,SAAS,EAAC,sBAAsB;MAAAC,QAAA,gBACnCxC,OAAA;QAAO6B,IAAI,EAAC,MAAM;QAACe,EAAE,EAAC,YAAY;QAACC,QAAQ,EAAErB,iBAAkB;QAACe,SAAS,EAAC,YAAY;QAACO,MAAM,EAAC;MAAuB;QAAAV,QAAA,EAAAK,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACvH3C,OAAA;QAAO+C,OAAO,EAAC,YAAY;QAACR,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAClDxC,OAAA;UAAGuC,SAAS,EAAC;QAAyB;UAAAH,QAAA,EAAAK,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,gBAC7C;MAAA;QAAAP,QAAA,EAAAK,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACR3C,OAAA;QAAM4C,EAAE,EAAC,WAAW;QAACL,SAAS,EAAC,WAAW;QAAAC,QAAA,EAAEJ,QAAQ,GAAI,GAAEA,QAAS,EAAC,GAAG;MAAgB;QAAAA,QAAA,EAAAK,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAP,QAAA,EAAAK,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5F,CAAC;EAAA;IAAAP,QAAA,EAAAK,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAAxB,EAAA,CAvCKD,UAAU;AAAA8B,EAAA,GAAV9B,UAAU;AAyChB,eAAeA,UAAU;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}